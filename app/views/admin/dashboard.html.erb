<main class="dashboard">
	<%= render "admin/header" %>

    <div class="container-fluid">
      <div class="row page-start">
        <%= render 'admin/sidebar' %>
        <div class="col-sm-9 col-sm-offset-3 col-md-10 col-md-offset-2 main">
          <h1 class="page-header">Dashboard</h1>
          <p id="open" style="display: none"><%= @openNum %></p>
          <p id="cubicle" style="display: none"><%= @cubicleNum %></p>
          <p id="team" style="display: none"><%= @teamNum %></p>
          <p id="combo" style="display: none"><%= @combinationNum %></p>
          <div id="chart_div"></div>
         
          <script type="text/javascript">

          $(function(){

            drawChart();
            

            // Callback that creates and populates a data table,
            // instantiates the pie chart, passes in the data and
            // draws it.
            function drawChart() {

              // Create the data table.
              var data = new google.visualization.DataTable();
              data.addColumn('string', 'Topping');
              data.addColumn('number', 'Slices');
              data.addRows([
                ['Open Concept', parseInt($("#open").text())],
                ['Cubicles', parseInt($("#cubicle").text())],
                ['Team', parseInt($("#team").text())],
                ['Combination', parseInt($("#combo").text())],
              ]);

              google.load('visualization', '1.0', {'packages':['corechart']});

              // Set a callback to run when the Google Visualization API is loaded.
              google.setOnLoadCallback(drawChart);

              // Set chart options
              var options = {'title':'System Status: Space Types Totals',
                             'width':800,
                             'height':600};



              // Instantiate and draw our chart, passing in some options.
              var chart = new google.visualization.PieChart(document.getElementById('chart_div'));
              chart.draw(data, options);


            }
            
            
          });

          </script>
        </div>
      </div>
    </div>
</main>

